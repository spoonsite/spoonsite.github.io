<!DOCTYPE html>
<html>
  <head>
    <title>SPOON Site Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-09-09T15:45:28 MDT">
<title>Administrator Guide :: SPOON Site Documentation</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

  <link href="/theme-original/variant-blue.css" rel="stylesheet">


<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content="">


    
  </head>
  <body data-url="/systemadmin/administratorguide/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <h4 style="color:white;">SPOON Documentation</h4>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/user/" class="dd-item haschildren
        ">
      <div>
      <a href="/user/">User</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/user/bulk-upload-process/" class="dd-item">
        <div>
          <a href="/user/bulk-upload-process/">
            Bulk Upload Process
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/user/userguide/" class="dd-item">
        <div>
          <a href="/user/userguide/">
            User Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/user/quick-overview-of-submitting-a-new-component/" class="dd-item">
        <div>
          <a href="/user/quick-overview-of-submitting-a-new-component/">
            Submitting a New Component
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/user/unitlegend/" class="dd-item">
        <div>
          <a href="/user/unitlegend/">
            Unit Legend
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/applicationadmin/" class="dd-item haschildren
        ">
      <div>
      <a href="/applicationadmin/">Application Admin</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/applicationadmin/customsubmissionforms/" class="dd-item">
        <div>
          <a href="/applicationadmin/customsubmissionforms/">
            Custom Submission Forms
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/applicationadmin/workplans/" class="dd-item">
        <div>
          <a href="/applicationadmin/workplans/">
            Workplans
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/applicationadmin/securityroles/" class="dd-item">
        <div>
          <a href="/applicationadmin/securityroles/">
            Security Roles
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/systemadmin/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/systemadmin/">System Admin</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/systemadmin/setup/" class="dd-item">
        <div>
          <a href="/systemadmin/setup/">
            Setup
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/systemadmin/docker/" class="dd-item">
        <div>
          <a href="/systemadmin/docker/">
            Docker
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/systemadmin/administratorguide/" class="dd-item active">
        <div>
          <a href="/systemadmin/administratorguide/">
            Administrator Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/systemadmin/datamigrationguide/" class="dd-item">
        <div>
          <a href="/systemadmin/datamigrationguide/">
            Data Migration Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/systemadmin/versionmigrationguide/" class="dd-item">
        <div>
          <a href="/systemadmin/versionmigrationguide/">
            Version Migration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/dev/" class="dd-item haschildren
        ">
      <div>
      <a href="/dev/">Developer</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/dev/developersguide/" class="dd-item">
        <div>
          <a href="/dev/developersguide/">
            Developer Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dev/architecture/" class="dd-item">
        <div>
          <a href="/dev/architecture/">
            Architecture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dev/front-end-code-standard/" class="dd-item">
        <div>
          <a href="/dev/front-end-code-standard/">
            Front-end Code Standards
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dev/uiguide/" class="dd-item">
        <div>
          <a href="/dev/uiguide/">
            User Interface Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dev/server-code-standard/" class="dd-item">
        <div>
          <a href="/dev/server-code-standard/">
            Server Code Standard
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/evaluations/" class="dd-item haschildren
        ">
      <div>
      <a href="/evaluations/">Evaluations</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/evaluations/evaluator/" class="dd-item haschildren
        ">
      <div>
      <a href="/evaluations/evaluator/">Evaluator</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/evaluations/evaluator/storefront-evaluators-guide/" class="dd-item">
        <div>
          <a href="/evaluations/evaluator/storefront-evaluators-guide/">
            Evaluators Guide
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/evaluations/evaluator/faq/" class="dd-item">
        <div>
          <a href="/evaluations/evaluator/faq/">
            FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/evaluations/librarian/" class="dd-item haschildren
        ">
      <div>
      <a href="/evaluations/librarian/">Librarian</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/evaluations/librarian/createevaluationguide/" class="dd-item">
        <div>
          <a href="/evaluations/librarian/createevaluationguide/">
            Create an Evaluation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/evaluations/librarian/publishinganevaluationguide/" class="dd-item">
        <div>
          <a href="/evaluations/librarian/publishinganevaluationguide/">
            Publish an Evaluation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/spoonsite/spoon/tree/master" target="_blank" rel="noopener"><i class='fa fa-github'></i> Github repo</a></li>
                <li class="" role=""><a href="https://github.com/spoonsite/spoon/releases" target="_blank" rel="noopener"><i class='fa fa-download'></i> Releases</a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer"><div style="color: #E0E0DA;">
    <p>SPOONsite version 2.10</p>
    <p>Documentation generated on Sep 9, 2019</p>
    <p>Created using <a href="https://gohugo.io/">Hugo</a> version 0.54.0</p>
</div>
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/spoonsite/spoon/edit/master/Hugo-StaticGen-Docs/content/systemadmin/AdministratorGuide.md" target="blank">
        <i class="fa fa-code-fork"></i>
        Improve this page
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/'>SPOON Documentation</a> > <a href='/systemadmin/'>System Admin</a> > Administrator Guide

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li><a href="#1-other-guides">1. Other Guides</a></li>
<li><a href="#2-configuration">2.  Configuration</a>
<ul>
<li><a href="#2-1-security">2.1  Security</a>
<ul>
<li><a href="#2-1-1-supported-realms">2.1.1 Supported Realms</a>
<ul>
<li><a href="#2-1-1-1-database">2.1.1.1 Database</a></li>
<li><a href="#2-1-1-2-openam-request-header">2.1.1.2 OPENAM (Request Header)</a></li>
<li><a href="#2-1-1-3-integration-with-openam">2.1.1.3 Integration with OpenAM</a></li>
</ul></li>
<li><a href="#2-1-2-user-types">2.1.2 User Types</a></li>
</ul></li>
<li><a href="#2-2-integration-external-ldap-user-syncing">2.2  Integration External LDAP (User Syncing)</a></li>
<li><a href="#2-3-jira-integration">2.3 Jira Integration</a></li>
<li><a href="#2-4-confluence-integration">2.4 Confluence Integration</a></li>
<li><a href="#2-5-mail-server">2.5 Mail Server</a></li>
<li><a href="#2-6-other-application-properties">2.6 Other Application Properties</a></li>
</ul></li>
<li><a href="#3-database-management">3. Database Management</a>
<ul>
<li><a href="#3-1-refreshing-the-database">3.1 Refreshing the Database</a></li>
<li><a href="#3-2-installing-database-console">3.2 Installing Database Console</a></li>
<li><a href="#3-3-installing-database-studio">3.3 Installing Database Studio</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Administrator Guide</h1>
  



    
    
    
    <p>This article gives further instructions on setting up and configuring the web application.</p>

<h1 id="1-other-guides">1. Other Guides</h1>

<p>This guide has been organized into separate documents to make it easier to navigate.
The focus of this document is for configuration.  See other guides for other topics.</p>

<p><a href="/dev/architecture/">Architecture</a></p>

<p><a href="/systemadmin/setup/">Setup</a></p>

<p><a href="/dev/developersguide/">Developer Guide</a></p>

<h1 id="2-configuration">2.  Configuration</h1>

<h2 id="2-1-security">2.1  Security</h2>

<h3 id="2-1-1-supported-realms">2.1.1 Supported Realms</h3>

<p>Configure in <code>/var/openstorefront/config/shiro.ini</code></p>

<ul>
<li><p>INI (Properties File; Default)</p>

<p>Users are specified in the users section.</p></li>

<li><p>LDAP (Example)</p></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#66d9ef">[main]</span>

<span style="color:#a6e22e">ldapRealm</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">org.apache.shiro.realm.ldap.JndiLdapRealm</span>

<span style="color:#a6e22e">ldapRealm.userDnTemplate</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">uid={0},ou=users,dc=mycompany,dc=com</span>

<span style="color:#a6e22e">ldapRealm.contextFactory.url</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">ldap://ldapHost:389</span>

<span style="color:#a6e22e">ldapRealm.contextFactory.authenticationMechanism</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">DIGEST-MD5</span>

<span style="color:#a6e22e">ldapRealm.contextFactory.environment[some.obscure.jndi.key]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">some</span>
<span style="color:#a6e22e">value</span></code></pre></div>
<h4 id="2-1-1-1-database">2.1.1.1 Database</h4>

<p>See
<a href="http://stackoverflow.com/questions/17441019/how-to-configure-jdbcrealm-to-obtain-its-datasource-from-jndi">Configure JDBC Realm</a>
for how to configure JDBCRealm to obtain its DataSource from JNDI.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#66d9ef">[main]</span>

<span style="color:#a6e22e">dataSource</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">org.apache.shiro.jndi.JndiObjectFactory</span>

<span style="color:#a6e22e">dataSource.resourceName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">java://app/jdbc/myDataSource</span>

<span style="color:#a6e22e">jdbcRealm</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">org.apache.shiro.realm.jdbc.JdbcRealm</span>

<span style="color:#a6e22e">jdbcRealm.permissionsLookupEnabled</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true</span>

<span style="color:#a6e22e">jdbcRealm.dataSource</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">$dataSource</span>

<span style="color:#75715e"># you can customize the authenticationQuery, userRolesQuery and permissionsQuery,  if needed.</span>

<span style="color:#a6e22e">securityManager.realms</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">$realm</span></code></pre></div>
<h4 id="2-1-1-2-openam-request-header">2.1.1.2 OPENAM (Request Header)</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#66d9ef">[main]</span>

<span style="color:#75715e">#Also, remember to comment out the users and roles to remove the INIRealm</span>

<span style="color:#a6e22e">headerRealm</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">edu.usu.sdl.openstorefront.security.HeaderRealm</span>

<span style="color:#a6e22e">securityManager.realms</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">$headerRealm</span></code></pre></div>
<h4 id="2-1-1-3-integration-with-openam">2.1.1.3 Integration with OpenAM</h4>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<ul>
<li><p><strong>openam.url</strong>  -http:/&hellip;/openam (Full URL to open am instance)</p></li>

<li><p><strong>logout.url</strong> - http:/&hellip;/openam/UI/Logout   (Full URL to logout)</p></li>

<li><p><strong>openam.header.username</strong>  - HTTP Header for Username    ( <strong>sAMAccountName</strong> )</p></li>

<li><p><strong>openam.header.firstname</strong>  - HTTP Header for Firstname    ( <strong>givenname</strong> )</p></li>

<li><p><strong>openam.header.lastname</strong> - HTTP Header for Lastname      ( <strong>sn</strong> )</p></li>

<li><p><strong>openam.header.email</strong>  - HTTP Header for email      ( <strong>mail</strong> )</p></li>

<li><p><strong>openam.header.group</strong>  - HTTP Header for group      ( <strong>memberOf</strong> )</p></li>

<li><p><strong>openam.header.ldapguid</strong> - HTTP Header for ldapguid      ( <strong>memberid</strong> )</p></li>

<li><p><strong>openam.header.organization</strong> - HTTP Header for organization</p></li>

<li><p><strong>openam.header.admingroupname</strong> - HTTP Header for Admin Group Name *Handles multiple values  ( <strong>STORE-Admin</strong> )</p></li>
</ul>

<p>Also, need to adjust the open am agent filter</p>

<p>Change:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">    <span style="color:#f92672">&lt;filter-mapping&gt;</span>
        <span style="color:#f92672">&lt;filter-name&gt;</span>Agent<span style="color:#f92672">&lt;/filter-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/*<span style="color:#f92672">&lt;/url-pattern&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>REQUEST<span style="color:#f92672">&lt;/dispatcher&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>INCLUDE<span style="color:#f92672">&lt;/dispatcher&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>FORWARD<span style="color:#f92672">&lt;/dispatcher&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>ERROR<span style="color:#f92672">&lt;/dispatcher&gt;</span>
    <span style="color:#f92672">&lt;/filter-mapping&gt;</span></code></pre></div>
<p>To</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">    <span style="color:#f92672">&lt;filter-mapping&gt;</span>
        <span style="color:#f92672">&lt;filter-name&gt;</span>Agent<span style="color:#f92672">&lt;/filter-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/*<span style="color:#f92672">&lt;/url-pattern&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>REQUEST<span style="color:#f92672">&lt;/dispatcher&gt;</span>
        <span style="color:#f92672">&lt;dispatcher&gt;</span>ERROR<span style="color:#f92672">&lt;/dispatcher&gt;</span>
    <span style="color:#f92672">&lt;/filter-mapping&gt;</span></code></pre></div>
<h3 id="2-1-2-user-types">2.1.2 User Types</h3>

<p>The user types are:</p>

<p>Are defined as based on the roles they belong to.<br />
If using the built-in security then the system will create default roles for
default users, admins and evaluators.  It will create a default admin user: (admin / Secret1@)</p>

<div class="notices warning" ><p>You should change the admin password after login in.</p>
</div>


<p>Pre-defined groups:</p>

<p><strong>Default</strong> - Allows Searching, tagging, watching, and submitting entries</p>

<p><strong>Guest</strong> -Permissions for guest user. (Only applies if security is setup for that)</p>

<p><strong>Admin</strong> - All administration permissions. There maybe some optional features that the admin doesn&rsquo;t by default have permission.</p>

<p><strong>Librarian</strong> -Data management permissions.</p>

<p><strong>Evaluators</strong> - Allows user to edit unpublished evaluations</p>

<p>An admin can define new groups as needed.</p>

<div class="notices note" ><p>All users are part of the Default group.</p>
</div>


<h2 id="2-2-integration-external-ldap-user-syncing">2.2  Integration External LDAP (User Syncing)</h2>

<p>When a user is not located in the external management system then the
user profile in the application will be deactivated.</p>

<p>The Security Policy in the application now allows for disabling user information editing. (Optional)
This allow the external LDAP/Active Directory to be sole source of user information.
Information will be synced at login and periodically according to teh user sync job.</p>

<p>Warning: This will not prevent login! Upon login the user profile will
be reactivated. To prevent login, refer to the external user management
system that the application is connected to and inactive the user from
there.</p>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<p>Also need to set the following properties to activate the feature:
-   <strong>external.sync.activate</strong>          - Set to true to activate
-   <strong>external.usermanager</strong>            - LdapUserManager</p>

<ul>
<li><strong>ldapmanager.url</strong>                       -Full URL to the LDAP (ldap://ldapHost:389 or ldap://localhost:389/o=JNDITutorial)<br /></li>
<li><strong>ldapmanager.userDnTemplate</strong>   -         uid={0},ou=users,dc=mycompany,dc=com; Reserved, not currently used<br /></li>
<li><strong>ldapmanager.authenticationMechanism</strong> -  NONE, SIMPLE, DIGEST-MD5, etc.                                                      ( <strong>SIMPLE</strong> )</li>
<li><strong>ldapmanager.security.sasl.realm</strong> -      May be needed for SASL authentication<br /></li>
<li><strong>ldapmanager.binddn</strong> -                    The LDAP user to use in the connection (Full DN name)<br /></li>
<li><strong>ldapmanager.credentials</strong> -               The LDAP credentials<br /></li>
<li><strong>ldapmanager.contextRoot</strong> -               Root to directory to search<br /></li>
<li><strong>ldapmanager.attribute.username</strong> -        Attribute to map to username                                                       ( <strong>sAMAccountName</strong> )</li>
<li><strong>ldapmanager.attribute.email</strong> -           Attribute to map to email                                                           ( <strong>mail</strong> )</li>
<li><strong>ldapmanager.attribute.fullname</strong> -        Attribute to map to fullname                                                        ( <strong>name</strong> )</li>
<li><strong>ldapmanager.attribute.organization</strong> -    Attribute to map to organization                                                    ( <strong>company</strong> )</li>
<li><strong>ldapmanager.attribute.guid</strong> -            Attribute to map to guid                                                            ( <strong>objectGUID</strong> )</li>
</ul>

<h2 id="2-3-jira-integration">2.3 Jira Integration</h2>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<ul>
<li><strong>tools.login.user</strong> -               Login Credentials for Integrations (currently just for jira)<br /></li>
<li><strong>tools.login.pw</strong> -                 Login Credentials for Integrations (currently just for jira)<br /></li>
<li><strong>jra.connectionpool.size</strong> -       Resource pool size                                             ( <strong>20</strong> )</li>
<li><strong>jira.connection.wait.seconds</strong> -   Wait time if the pool is empty                                 ( <strong>60</strong> )</li>
<li><strong>jira.server.url</strong> -                Jira server to connect to                                      ( <strong><a href="https://jira.di2e.net">https://jira.di2e.net</a></strong> )</li>
</ul>

<h2 id="2-4-confluence-integration">2.4 Confluence Integration</h2>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<ul>
<li><strong>confluence.server.url</strong> -URL to confluence</li>
</ul>

<h2 id="2-5-mail-server">2.5 Mail Server</h2>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<ul>
<li><strong>mail.attach.file</strong> -     Set to true or false indicating if emails should contain attached files</li>
<li><strong>mail.smtp.url</strong> -        Login Credentials for Integrations (currently just for jira)   ( <strong>localhost</strong> )</li>
<li><strong>mail.server.user</strong> -     Login Credentials for mail server<br /></li>
<li><strong>mail.server.pw</strong> -       Login Credentials for mail server<br /></li>
<li><strong>mail.smtp.port</strong> -       Mail Port (25 common)<br /></li>
<li><strong>mail.use.ssl</strong> -         Set to true if server requires it<br /></li>
<li><strong>mail.use.tls</strong> -         Set to true if server requires it<br /></li>
<li><strong>mail.from.name</strong> -       From Name                                                      ( <strong>Storefront Notification</strong> )</li>
<li><strong>mail.from.address</strong> -    From Email Address                                             ( <strong>donotreply@storefront.net</strong> )</li>
<li><strong>mail.reply.name</strong> -      Reply name (usually display at the bottom the message)         ( <strong>Support</strong> )</li>
<li><strong>mail.reply.address</strong> -   Reply email (usually display at the bottom the message)        ( <strong>helpdesk@di2e.net</strong> )</li>
<li><strong>test.email</strong> -           Set for automated testing only; the email to use for testing</li>
</ul>

<h2 id="2-6-other-application-properties">2.6 Other Application Properties</h2>

<p>Configure in: <code>/var/openstorefront/config/openstorefront.properties</code></p>

<p>( <strong>Property</strong> -description ( <strong>Default</strong> ))</p>

<ul>
<li><strong>errorticket.max</strong>          -            Max amount of ticket to hold (culls the oldest records upon filling)                                                                                                       ( <strong>5000</strong> )</li>
<li><strong>trackingrecords.max.age.days</strong>  -       Max age of tracking records                                                                                                                                                ( <strong>365</strong> )</li>
<li><strong>solr.server.url</strong>     -                 URL to the SOLR instance to use. ; it should point to the appropriate collection.                                                                               ( <strong><a href="http://localhost:8983/solr/esa">http://localhost:8983/solr/esa</a></strong> )</li>
<li><strong>db.connectionpool.min</strong>    -            DB min pool size                                                                                                                                                           ( <strong>5</strong> )</li>
<li><strong>db.connectionpool.max</strong> -               DB max pool size                                                                                                                                                           ( <strong>40</strong> )</li>
<li><strong>db.user</strong>             -                 Should match orientdb-server-config.xml<br /></li>
<li><strong>db.pw</strong>            -                    Should match orientdb-server-config.xml</li>
<li><strong>external.host.url</strong>   -                 Should point to the external host url (Eg. https://<host>/openstorefront) this is used in emails/external communication                                         ( <strong><a href="http://localhost:8080/openstorefront">http://localhost:8080/openstorefront</a></strong> )<br /></li>
<li><strong>job.working.state.override.minutes</strong> -  Max job running time. Use for Integrations. To determine if a job got stuck.                                                                                               ( <strong>30</strong> )</li>
<li><strong>message.archive.days</strong>        -         User message max age of archives                                                                                                                                           ( <strong>30</strong> )</li>
<li><strong>message.queue.minmintues</strong>    -         User message queue time or the time the message waits before sending.                                                                                                      ( <strong>10</strong> )</li>
<li><strong>message.maxretires</strong>    -               Max times the user message will try to send if unable to deliver.                                                                                                          ( <strong>5</strong> )</li>
<li><strong>message.recentchanges.days</strong>   -        Time between &ldquo;recent changes&rdquo; messages from being sent.                                                                                                                    ( <strong>28</strong> )</li>
<li><strong>app.title</strong>   -                         Title of the application. Used in emails but, also other places.                                                                                                           ( <strong>DI2E Storefront</strong> )</li>
<li><strong>external.usermanager</strong>   -              Specifies the manager that is used for external user management. The manager must be supported by the application. ( IniRealmManager or LdapUserManager)                   ( <strong>IniRealmManager</strong> )</li>
<li><strong>external.sync.activate</strong>  -             Set to &lsquo;true&rsquo; to run the sync                                                                                                                                              (<strong>False</strong>)</li>
<li><strong>dblog.on</strong>        -                     Activates logging records to the database; Note: All log record are still logged in the server logs regardless of setting this. This just controls the database logging.   ( <strong>false</strong> )</li>
<li><strong>dblog.maxrecords</strong>     -                Maximum database records to store                                                                                                                                          ( <strong>50000</strong> )</li>
<li><strong>dblog.logSecurityFilter</strong>  -            Log security API audit records; Note: setting this to true can cause noise when using the application log viewer.                                                          ( <strong>False</strong> )</li>
<li><strong>jirafeedback.show</strong> - Allows users to provide jira feedback (True/False) ( <strong>True</strong> )</li>
<li><strong>filehistory.max.days</strong> - Sets the max days to keep file history ( <strong>180</strong> )</li>
<li><strong>notification.max.days</strong> - Set the max days to keep notification messages ( <strong>7</strong> )</li>
<li><strong>report.lifetime</strong> - Set the lifetime of a report (how long will this report be in the system?) ( <strong>180</strong> )</li>
<li><strong>feedback.email</strong> - Email address to send feedback to</li>
<li><strong>ui.idletimeout.minutes</strong> - Set to a value &gt; 1 to have the UI popup a idle warning about their session (Default is the application tries to keep the session alive.)</li>
<li><strong>ui.idlegraceperiod.minutes</strong> -Set this to configure the grace period for the idle timeout. After the message appears.</li>
<li><strong>system.archive.maxprocessminutes</strong> -Max time for system archive process without making progress (<strong>60</strong>)</li>
<li><strong>websockets.enabled</strong> - Enables the use of websockets for server notifications ( <strong>False</strong> )</li>
<li><strong>userreview.autoapprove</strong> - Allows user reviews, questions, and answers submitted by users to be automatically approved, otherwise an administrator must approve each update. (<strong>True</strong>)</li>
<li><strong>role.admin</strong> -Set this before strarting the application the first time to set the name of the Admin Role</li>
<li><strong>test.email</strong> -Set to run container tests that require email</li>
<li><strong>system.archive.maxprocessminutes</strong> -Set the max time for running archive process; this used to clean up stuck working archives ( <strong>60</strong> )</li>
<li><strong>max.post.size</strong> - Set to configure the maximum file size for files being saved to the system (in MB) ( <strong>1000</strong> )</li>
<li><strong>elastic.connectionpool.size</strong> - Set the connection pool size ( <strong>30</strong>)</li>
<li><strong>elastic.connection.wait.seconds</strong> - Max time to wait for an open connection. ( <strong>60</strong>)</li>
</ul>

<h1 id="3-database-management">3. Database Management</h1>

<p>The application handles all database interaction transparently, so
direct database access and manipulation is not needed.</p>

<p>See the following for information on outside control (should rarely be
needed/used).</p>

<h2 id="3-1-refreshing-the-database">3.1 Refreshing the Database</h2>

<div class="notices warning" ><p>This will wipe out all data in the application. Data, such
as User profiles, cannot be recovered. Component user data can be
preserved by performing an export from the component admin tool.</p>
</div>


<p>Make a backup by copying all of the files in the /var/openstorefront/db
directory or use the following console tools steps:</p>

<ol>
<li><p>Stop the Tomcat server  (e.g. service tomcat stop)</p></li>

<li><p>Remove the folder /var/openstorefront/db
(rm -rf /var/openstorefront/db)</p></li>

<li><p>Start the tomcat server</p></li>
</ol>

<p>When the application loads it will create a new database and populate
the data from whatever is currently in the import folders (lookups only; attributes, component, articles will need to be manually
trigger or uploaded via the Admin Tools UI).</p>

<p>The initial load of the application may take a few minutes. If the
import directories are empty, the application will load default lookup
files that are packaged with the application.</p>

<h2 id="3-2-installing-database-console">3.2 Installing Database Console</h2>

<div class="notices warning" ><p>Viewing (Querying) information is fine; however, use
extreme caution when modifying any records as all logic is handled by
the application.</p>

<p>Also, note longterm uses on external tools and access may have STIG consequences.
For full audit log support Orient Enterprise edition is needed.  External server
would need to be set.  The application does not currently have support for that but,
it could added.</p>
</div>


<ol>
<li><p>Download Orient DB (Currently using the 2.2.x series) at
<a href="http://www.orientechnologies.com/download/">OrientDB.org</a></p></li>

<li><p>Extract the archive</p></li>

<li><p>Run the console ./bin/console.sh</p></li>

<li><p>Connect to the DB:</p></li>
</ol>

<p>connect remote: localhost/openstorefront (user) (password) (see the
    /var/openstorefront/config/openstorefront.properties for
    connection information)</p>

<p>The database supports an SQL like interface and then adds other
functionality on top.</p>

<ul>
<li><p>See <a href="http://www.orientechnologies.com/docs/last/orientdb.wiki/Backup-and-Restore.html">Orient DB Backup</a> for
information about backup</p></li>

<li><p>See <a href="http://www.orientechnologies.com/docs/last/orientdb.wiki/Export-and-Import.html">Orient DB Export/Import</a> for
export and imports.</p></li>
</ul>

<h2 id="3-3-installing-database-studio">3.3 Installing Database Studio</h2>

<div class="notices note" ><p>Orient DB includes a web application for viewing the database
visually, instead of viewing everything from the console. Once installed,
Orient DB Studio will run with the database itself once OpenStoreFront
is running, and will not require anything to be run locally</p>
</div>


<div class="notices warning" ><p>Viewing (Querying) information is fine; however, use
extreme caution when modifying any records as all logic is handled by
the application.</p>
</div>


<ol>
<li><p>Download Orient DB (Currently using the 2.2.x series) at
<a href="http://www.orientechnologies.com/download/">OrientDB.org</a></p>

<ol>
<li>If you already downloaded Orient DB in section 3.2 above,
you may simply reuse that download.</li>
</ol></li>

<li><p>Extract the archive</p></li>

<li><p>Locate the Studio plugin: ./plugins/studio-2.1.zip</p></li>

<li><p>Copy plugin to OpenStoreFront database on server:
/var/openstorefront/db/plugins</p>

<ol>
<li>Copy entire .zip file; do not extract.</li>
</ol></li>

<li><p>Start or Restart OpenStoreFront</p>

<ol>
<li>Plugin will automatically be installed when the database service
is initialized.</li>
</ol></li>

<li><p>Access Orient DB Studio: <a href="http://localhost:2480/studio/index.html">http://localhost:2480/studio/index.html</a></p>

<ol>
<li>Change &lsquo;localhost&rsquo; to the appropriate domain name or IP address if OpenStoreFront is not running locally</li>
<li>Ensure &lsquo;openstorefront&rsquo; is selected as the database in the dropdown.</li>
<li>Login using the credentials located in the configuration file: /var/openstorefront/config/openstorefront.properties</li>
</ol></li>
</ol>

<p>The database supports an SQL like interface and then adds other
functionality on top.</p>

<ul>
<li>See <a href="http://orientdb.com/docs/2.2.x/Home-page.html">Orient DB Studio</a> for
more information about Studio</li>
</ul>

    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/systemadmin/docker/" title="Docker"> <i class="fa fa-chevron-left"></i><label>Docker</label></a>
    <a class="nav nav-next" href="/systemadmin/datamigrationguide/" title="Data Migration Guide" style="margin-right: 0px;"><label>Data Migration Guide</label><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>

<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>